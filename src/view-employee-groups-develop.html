<!DOCTYPE html>
<html lang="ru" class="page">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="theme-color" content="#111111">
    <title>Настройка системы</title>
    <link rel="preload" href="fonts/CoFoSans-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="fonts/CoFoSans-Medium.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="css/vendor.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
    <script defer src="js/main.js"></script>
</head>

<body class="page__body">
    <div class="site-container site-container--place-sale">
        @include('partials/header.html')
        <main class="main main-page-gap place-sale edit-types-objects">
            <div class="place-sale__top top-page-inner-title">
                <div class="top-page-inner-title__container container">
                    <a href="#" class="place-sale__back top-page-inner-title__back back-link">
                        <svg>
                            <use xlink:href="./img/sprite.svg#arrow-left"></use>
                        </svg>
                        <span>Назад</span>
                    </a>
                    <h1 class="create-types-objects__title top-page-inner-title__title title-2" data-da=".place-sale__body,1212,first">
                        Просмотр <span>группы сотрудников</span>
                    </h1>
                </div>
            </div>
            <div class="place-sale__body">
                <div class="container">
                    <div class="place-sale__row place-sale-options">
                        <h2 class="place-sale__row-title place-sale-options__title title-2">
                            Роль
                        </h2>
                        <div class="place-sale-options__row place-sale-options__row--1" style="grid-template-columns: repeat(3,1fr); margin-bottom: 24px;">
                            <div class="place-sale-options__item input-text _active">
                                <label class="input-text__label">
                                    <span>Название</span>
                                    <input type="text" name="Имя" class="input-reset input-text__input" data-add-groups-name placeholder="">
                                </label>
                            </div>
                        </div>
                        <div class="place-sale-options__row place-sale-options__row--2" data-add-groups-list style="grid-template-columns: repeat(5,max-content); grid-row-gap: 16px;">
                            <div class="checkbox-secondary" data-role-id="0">
                                <input type="checkbox" id="role-id-0" name="input-role" class="checkbox-secondary__input">
                                <label for="role-id-0" class="checkbox-secondary__label">
                                    <span class="checkbox-secondary__text">Менеджер отдела продаж</span>
                                </label>
                            </div>
                            <div class="checkbox-secondary" data-role-id="1">
                                <input type="checkbox" id="role-id-1" name="input-role" class="checkbox-secondary__input">
                                <label for="role-id-1" class="checkbox-secondary__label">
                                    <span class="checkbox-secondary__text">Юрист</span>
                                </label>
                            </div>
                            <div class="checkbox-secondary" data-role-id="2">
                                <input type="checkbox" id="role-id-2" name="input-role" class="checkbox-secondary__input">
                                <label for="role-id-2" class="checkbox-secondary__label">
                                    <span class="checkbox-secondary__text">Ипотечный брокер</span>
                                </label>
                            </div>
                        </div>
                        <button type="button" class="btn btn-reset btn-primary" data-add-groups-btn style="width: 100%; margin-top: 32px;">
                            Сохранить
                        </button>
                    </div>
                </div>
            </div>
        </main>
        @include('partials/footer.html')
    </div>
    @include('partials/popup.html')


    <script>
        const inputName = document.querySelector('[data-add-groups-name]');
        const list = document.querySelector('[data-add-groups-list]');
        const btn = document.querySelector('[data-add-groups-btn]');
        btn.addEventListener('click',() => {
            if (inputName.value !== '') {
                const items = list.querySelectorAll('.checkbox-secondary');
                const lastItem = items[items.length - 1];
                const currentID = lastItem === undefined ? 0 : +lastItem.dataset.roleId + 1;
                const html = `
                <div class="checkbox-secondary" data-role-id="${currentID}">
                    <input type="checkbox" id="role-id-${currentID}" name="input-role" class="checkbox-secondary__input">
                    <label for="role-id-${currentID}" class="checkbox-secondary__label">
                        <span class="checkbox-secondary__text">${inputName.value}</span>
                    </label>
                </div>
                `;
                list.insertAdjacentHTML('beforeend',html);
                inputName.value = '';
                inputName.closest('.input-text').classList.remove('_active');
            }
        });

    </script>
</body>


</html>
